# Maintainer: RadiatedExodus <radiatedexodus@gmail.com>

pkgname="rojo"
pkgver="7.3.0"
pkgrel=1
pkgdesc="Rojo is a tool designed to enable Roblox developers to use professional-grade software engineering tools."
arch=("any")
url="https://github.com/rojo-rbx/rojo"
license=("MPL2")
makedepends=("rust", "wally")
conflicts=("rojo-upliftgames")
source=("git+https://github.com/rojo-rbx/rojo.git#tag=v${pkgver}")
sha256sums=("SKIP")

build() {
    cd "$srcdir/rojo"
    git submodule update --init --force
    wally install
    cargo build --release
}

package() {
   install -Dm755 "${srcdir}/rojo/target/release/rojo" "${pkgdir}/usr/bin/rojo"
}
